class BusinessCalculator{constructor(t){this.options={root:null},this.revPercentage=10,this.multiplier=1,null!=t.root&&(this.options=t)}setRootClasses(t){t.classList.add("container"),t.classList.add("mt-5"),t.classList.add("business-calculator")}setCurrency(){return this.currency=void 0!==this.options.currency?this.options.currency:"$",this.currencyOrient=void 0!==this.options.currencyOrientation?this.options.currencyOrientation:BC_Currency_Orientation.BEFORE_TEXT,this.currencyOrient===BC_Currency_Orientation.BEFORE_TEXT?(this.insertCSS(".bc__output__revenue .bc__output__revenue__total::before { content: '"+this.currency+"'; font-size: 30px; font-weight: 700; position: relative; }"),!0):this.currencyOrient===BC_Currency_Orientation.AFTER_TEXT&&(this.insertCSS(".bc__output__revenue .bc__output__revenue__total::after { content: '"+this.currency+"'; font-size: 30px; font-weight: 700; position: relative; }"),!0)}init(){let t=this.options.root;if(null==t)return;if(this.setRootClasses(t),this.createGlobalCSS(),this.insertColors(),!this.setCurrency())return;void 0!==this.options.output?.breakdown?.listIcon?this.insertCSS(".bc__output__breakdown::before{ content: '\\"+this.options.output.breakdown.listIcon+"'; font-family: 'Font Awesome 6 Pro'; font-weight: 300; position: absolute; left: 0px; top: 4px; color: var(--bc-accent); }"):this.insertCSS(".bc__output__breakdown::before{ content: '\\f058'; font-family: 'Font Awesome 6 Pro'; font-weight: 300; position: absolute; left: 0px; top: 4px; color: var(--bc-accent); }");let e=document.createElement("h2");e.innerText=void 0!==this.options.heading?this.options.heading:"Calculate your Budget",t.appendChild(e);let i=document.createElement("div");i.classList.add("row","m-0","justify-content-between","align-items-start"),t.appendChild(i),this.generateInput(i)&&this.generateOutput(i)&&this.progressScript()}generateOutput(t){let e=this.createDiv(t,"col-lg-4","col-12","bc__output","text-center"),i=this.createDiv(e,"bc__output__heading");i.innerText=void 0!==this.options.output?.heading?.text?this.options.output?.heading?.text:"Your Recommended";this.createSpan(i,void 0!==this.options.output?.heading?.colored?this.options.output?.heading?.colored:"Marketing Spend","colored");let n=this.createDiv(e,"bc__output__revenue"),o=this.createSpan(n,"","bc__output__revenue__percentage");this.bc__output__revenue__percentage_span=this.createSpan(o,""),o.innerHTML+=void 0!==this.options.output?.revenuePercentageLabel?this.options.output?.revenuePercentageLabel:"% of Revenue",this.bc__output__revenue__total=this.createSpan(n,"","bc__output__revenue__total");let r=this.createSpan(n,void 0!==this.options.output?.perMonthLabel?this.options.output?.perMonthLabel:"per month"),s=void 0!==this.options.output?.perMonthTooltip?this.options.output?.perMonthTooltip:{icon:"fa-light fa-circle-info",text:"This marketing budget could be allocated to salaries, specialist agency support and marketing initiatives, campaigns, ad spends and related expenses.",ariaLabel:"Open this tooltip to learn more about the Monthly Budget"},a=this.createToolTip(s);if(r.appendChild(a),void 0!==this.options.output?.breakdown){let i=this.createDiv(e,"bc__output__breakdowns"),n=document.createElement("details");n.addEventListener("toggle",(function(){e.classList.toggle("bc__details__open")}));let o=document.createElement("summary");o.innerText=void 0!==this.options.output?.breakdown?.heading?this.options.output?.breakdown?.heading:"Example Breakdown";let r=document.createElement("i"),s=void 0!==this.options.output?.breakdown?.openIcon?[...this.options.output.breakdown.openIcon.split(" ")]:[..."fa-regular fa-chevron-down".split(" ")];r.classList.add(...s),o.appendChild(r),n.appendChild(o),i.appendChild(n);let a=document.createElement("ul");n.appendChild(a);let u=this.options.output?.breakdown?.breakdowns;if(void 0===u)return t.remove(),!1;u.forEach((t=>{let e=document.createElement("li");e.classList.add("bc__output__breakdown"),e.setAttribute("data-percentage",t.percentage.toString());this.createSpan(e,t.text,"bc__output__breakdown__name");let i=this.createSpan(e,"("+t.percentage.toString()+"%) ","bc__output__breakdown__subtotal");this.createSpan(i,"");a.appendChild(e)}));this.createSpan(n,void 0!==this.options.output?.breakdown?.hint?this.options.output?.breakdown?.hint:"Adapt your budget based on campaign results and business goals, experimenting with tailored strategies and channels.","bc__hint")}let u=document.createElement("a");return u.href=void 0!==this.options.output?.button?this.options.output?.button.href:"#",u.innerText=void 0!==this.options.output?.button?this.options.output?.button.text:"See plans",u.classList.add("bc__button"),e.appendChild(u),this.createDiv(e,"bc__hint","reduced").innerHTML=void 0!==this.options.output?.endHint?this.options.output?.endHint:"Unsure where to allocate your marketing spend? <a href='#'>Take the quiz</a>",!0}createDiv(t,...e){let i=document.createElement("div");return 0!==e.length&&i.classList.add(...e),null!=t&&t.appendChild(i),i}createSpan(t,e,...i){let n=document.createElement("span");return 0!==i.length&&n.classList.add(...i),n.innerHTML=e,null!=t&&t.appendChild(n),n}createSlider(t,e,i,n){let o=this.createDiv(t,"bc__slider"),r=this.createDiv(o,"bc__slider__upper"),s=void 0!==e?e:{icon:"fa-light fa-circle-info",text:"Your business' average gross monthly revenue - total brought in before any expenses.",ariaLabel:"Open this tooltip to learn more about the Monthly Revenue"},a=void 0!==i?i:"Monthly Revenue",u=this.createSubHeading(s,a);r.appendChild(u),this.bc__slider__revenue=this.createSpan(r,"","bc__slider__revenue","subHeading");let c=this.createDiv(o,"bc__slider__middle"),l=void 0!==n?.min?n?.min.toString():"0",p=void 0!==n?.max?n?.max.toString():"1000000",_=void 0!==n?.step?n?.step.toString():"5000";this.bc__slider__input=document.createElement("input"),this.bc__slider__input.type="range",this.bc__slider__input.id="revenue",this.bc__slider__input.name="revenue",this.bc__slider__input.min=l,this.bc__slider__input.max=p,this.bc__slider__input.step=_,this.bc__slider__input.oninput=()=>{this.progressScript(this)},this.bc__slider__input.value=((parseInt(p)+parseInt(l))/2).toString(),c.appendChild(this.bc__slider__input);let h=this.createDiv(o,"bc__slider__lower");this.createSpan(h,this.currencyOrient===BC_Currency_Orientation.BEFORE_TEXT?this.currency+BusinessCalculator.formatMoney(l):BusinessCalculator.formatMoney(l)+this.currency),this.createSpan(h,this.currencyOrient===BC_Currency_Orientation.BEFORE_TEXT?this.currency+BusinessCalculator.formatMoney(p):BusinessCalculator.formatMoney(p)+this.currency)}generateInput(t){let e=this.createDiv(t,"col-lg-7","col-12","bc__input");this.createSlider(e,this.options.input?.monthlyRevenue?.tooltip,this.options.input?.monthlyRevenue?.heading,this.options.input?.monthlyRevenue?.slider);let i=this.createDiv(e,"bc__industry__selector"),n=void 0!==this.options.input?.industry?.heading?this.options.input?.industry?.heading:"Industry",o=void 0!==this.options.input?.industry?.tooltip?this.options.input?.industry?.tooltip:{icon:"fa-light fa-circle-info",text:"Select your business industry or closest match.",ariaLabel:"Open this tooltip to learn more about the Industries"},r=this.createSubHeading(o,n);i.appendChild(r);let s=this.createDiv(i,"bc__industry__types"),a=this.options.input?.industry?.industries;if(void 0===a)return t.remove(),!1;{let t=0;a.forEach((e=>{let i=this.createSpan(s,e.text,"bc__industry__type");0==t++&&i.classList.add("active"),i.setAttribute("data-percentage",e.percentage.toString()),i.addEventListener("click",(()=>{document.querySelectorAll("span.bc__industry__type").forEach((t=>t.classList.remove("active"))),i.classList.add("active"),this.revPercentage=parseInt(i.getAttribute("data-percentage")),this.updateTotal()}))}))}let u=this.createDiv(e,"bc__growth__goal"),c=void 0!==this.options.input?.growth?.heading?this.options.input?.growth?.heading:"Growth Goal",l=void 0!==this.options.input?.growth?.tooltip?this.options.input?.growth?.tooltip:{icon:"fa-light fa-circle-info",text:"Conservative: a more cautious approach, aiming for steady and sustainable growth. <br>Moderate: balanced growth, combining stability with some expansion. <br>Aggressive: rapid growth and expansion, even if it involves higher risk.",ariaLabel:"Open this tooltip to learn more about the Growth Goals"},p=this.createSubHeading(l,c);u.appendChild(p);let _=this.createDiv(u,"bc__growth__goal__buttons"),h=this.options.input?.growth?.buttons;if(void 0===h)return t.remove(),!1;{let t=0;h.forEach((e=>{let i=this.createSpan(_,e.text,"bc__growth__goal__button");0==t++&&i.classList.add("active"),i.setAttribute("data-multiplier",e.multiplier.toString()),i.addEventListener("click",(()=>{document.querySelectorAll("span.bc__growth__goal__button").forEach((t=>t.classList.remove("active"))),i.classList.add("active"),this.multiplier=parseFloat(i.getAttribute("data-multiplier")),this.updateTotal()}))}))}return!0}progressScript(t){const e=parseInt(this.bc__slider__input.value);let i=(e-parseInt(this.bc__slider__input.min))/(parseInt(this.bc__slider__input.max)-parseInt(this.bc__slider__input.min))*100;this.bc__slider__input.style.background=`linear-gradient(to right, var(--bc-primary) ${i}%, var(--bc-foreground-alternative) ${i}%)`,this.bc__slider__revenue.innerText=BusinessCalculator.formatMoney(e),this.updateTotal()}createSubHeading(t,e){let i=this.createSpan(null,e,"subheading"),n=this.createToolTip(t);return i.appendChild(n),i}updateTotal(){let t=this.revPercentage*this.multiplier/100;this.bc__output__revenue__total.innerHTML=BusinessCalculator.formatMoney(parseInt(this.bc__slider__input.value)*t),document.querySelector(".bc__output__revenue__percentage>span").innerHTML=(Math.round(1e3*t)/10).toString(),document.querySelectorAll("li.bc__output__breakdown").forEach((e=>{let i=e.getAttribute("data-percentage"),n=parseInt(this.bc__slider__input.value)*t*(parseFloat(i)/100);e.querySelector(".bc__output__breakdown__subtotal>span").innerHTML=this.currencyOrient===BC_Currency_Orientation.BEFORE_TEXT?this.currency+BusinessCalculator.formatMoney(n):BusinessCalculator.formatMoney(n)+this.currency}))}static formatMoney(t){return Math.floor(parseFloat(t)).toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")}createToolTip(t){let e=this.createDiv(null,"bc__tooltip");e.ariaLabel=t.ariaLabel;let i=this.createDiv(e,"icon"),n=document.createElement("i");n.classList.add(...t.icon.split(" ")),i.appendChild(n);let o=this.createDiv(n,"content");return this.createDiv(o,"inner").innerHTML=t.text,e}createGlobalCSS(){this.globalCSS=document.createElement("style"),document.head.appendChild(this.globalCSS)}insertColors(){this.insertCSS(":root { --bc-background: "+(this.options.colors?.background?this.options.colors?.background:"#060E15")+"; --bc-foreground: "+(this.options.colors?.foreground?this.options.colors?.foreground:"#E9EEEB")+"; --bc-foreground-alternative: "+(this.options.colors?.foregroundAlternative?this.options.colors?.foregroundAlternative:"#818181")+"; --bc-primary: "+(this.options.colors?.primary?this.options.colors?.primary:"#0C92A8")+"; --bc-secondary: "+(this.options.colors?.secondary?this.options.colors?.secondary:"#327773")+"; --bc-accent: "+(this.options.colors?.third?this.options.colors?.third:"#6EBDC1")+";}")}insertCSS(t){this.globalCSS.sheet?.insertRule(t)}}var BC_Currency_Orientation;!function(t){t[t.BEFORE_TEXT=0]="BEFORE_TEXT",t[t.AFTER_TEXT=1]="AFTER_TEXT"}(BC_Currency_Orientation||(BC_Currency_Orientation={}));